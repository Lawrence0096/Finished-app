<div class="splitView">
  <mat-card class="example-card1">
    <mat-card-content [style.overflow]="'auto'" [style.height]="'93vh'">
      <ng-container *ngIf="_isLoadingCustomerDetailsData$ | async">
        <mat-progress-bar mode="indeterminate" style="height: 5px!important;"></mat-progress-bar>
      </ng-container>
      <ng-container *ngIf="!(_isLoadingCustomerDetailsData$ | async )">
        <h1 style="font-family: 'Roboto', sans-serif;">STRANKA: <b>{{(_selectedCustomer$ | async)?.name}}</b>
        </h1>
        <ng-container *ngIf="showNoteMessage">
          <div class="Box_container" [ngStyle]= "{'background-color': (_selectedCustomer$ | async)?.companyDetails?.note?.bgndcolor}" >
            <div id="Content_container">
              <h2 id="Container_headers">Note</h2>
              <p id='Container_paragraph'>
                {{(_selectedCustomer$ | async)?.companyDetails?.note?.data}}
              </p>                
            </div>
          </div>
        </ng-container>
        <br>
        <div class="example-action-buttons">
          <button mat-button (click)="openAll()">Expand All</button>
          <button mat-button (click)="closeAll()">Collapse All</button>
        </div>
        <mat-accordion>
          <mat-expansion-panel [expanded]="isOpened1" (click)=expansionStatus1()>
            <mat-expansion-panel-header>
              <mat-panel-title>
                SQL
              </mat-panel-title>
            </mat-expansion-panel-header>
            <div class="Box_container">
              <div id="Content_container">
                <h2 id="Container_headers">SQL</h2>
                <p id='Container_paragraph'>
                  Data directory: <b>{{(_selectedCustomer$ | async)?.companyDetails?.mysql?.datadir}}</b> <br>
                  Errors: <b>{{(_selectedCustomer$ | async)?.companyDetails?.mysql?.errors}}</b> <br>
                  Last start: <b> {{(_selectedCustomer$ | async)?.companyDetails?.mysql?.last_start}}</b> <br>
                  Slow quaries: <b>{{(_selectedCustomer$ | async)?.companyDetails?.mysql?.["slow queries"]}}</b> <br>
                  SSL: <b>{{(_selectedCustomer$ | async)?.companyDetails?.mysql?.ssl}}</b> <br>
                  Version: <b>{{(_selectedCustomer$ | async)?.companyDetails?.mysql?.version}}</b>
                </p>
              </div>
            </div>
          </mat-expansion-panel>
        </mat-accordion>
        <mat-accordion>
          <mat-expansion-panel [expanded]="isOpened2" (click)=expansionStatus2()>
            <mat-expansion-panel-header>
              <mat-panel-title>
                System
              </mat-panel-title>
            </mat-expansion-panel-header>
            <div class="Box_container">
              <div id="Content_container">
                <h2 id="Container_headers">SYSTEM INFORMATION</h2>
                <mat-card class="matcard-padding2">
                  <div id='Container_paragraph'>                  
                    <h3 id="SectionHeaders">CPU:</h3>
                    <section class="example-section" style="width: 95%;">
                      Count: <b> {{(_selectedCustomer$ | async)?.companyDetails?.system?.cpu?.count}} </b> <br>
                      Usage: <b> {{(_selectedCustomer$ | async)?.companyDetails?.system?.cpu?.usage}} </b> %
                    </section>
                    <section class="example-section" style="width: 95%; margin-top: 5px">
                      <mat-progress-bar class="green-progress" [mode]="mode"
                        value="{{(_selectedCustomer$ | async)?.companyDetails?.system?.cpu?.usage}}"
                        [bufferValue]="bufferValue">
                      </mat-progress-bar>
                      <div style="position: relative; padding: 10px; color: white; margin-top: -29px;"> Usage:
                        {{(_selectedCustomer$ | async)?.companyDetails?.system?.cpu?.usage}} % </div>
                    </section>
                  </div>
                </mat-card>              
                <div id='Container_paragraph'> <br>
                  <mat-card class="matcard-padding2">
                    <div class="cont">
                      <h3 id="SectionHeaders">DISKS:</h3>
                      <div class="DiskDisplay">
                        <ng-container  *ngFor="let item of (_selectedCustomer$ | async)?.companyDetails?.system?.drives">

                          <mat-card [ngStyle]= "{'background-color': item.bgndcolor !== null ? item.bgndcolor : ''}" class="MatcardDisk">
                            
                              {{item.volume.toString()| slice:0:3}}:
                              <br>
                              Installed:<b> {{item.installed.toString()| number:'1.0-0' }} MB </b>
                              <br>
                              Free space: <b> {{item.free.toString()| number:'1.0-0'}} MB </b>
                              <br>
                              Total: <b> {{(item.installed + item.free).toString()| number:'1.0-0'}} MB </b>                                                       
                          </mat-card>                         
                        </ng-container>
                      </div>
                      <ng-container *ngFor="let item of (_selectedCustomer$ | async)?.companyDetails?.system?.drives">
                        <b>{{item.volume.toString()| slice:0:3}}:</b>
                        <img src="../../../assets/Drive.png" style="height: 80px; width: 80px;" alt="">
                        <section class="example-section" style="width: 95%; margin-top: 5px;">
                          <mat-progress-bar class="green-progress" [mode]="mode"
                            value="{{ item.free *  100 / (item.installed! + item.free! )}}" [bufferValue]="bufferValue">
                          </mat-progress-bar>
                          <div style="position: relative; padding: 10px; color: white; margin-top: -29px;">
                            Available: {{(item.free! * 100 / (item.installed! + item.free!)).toString() |
                            number:'1.0-0'}} %
                          </div>
                        </section>
                      </ng-container>
                    </div>
                  </mat-card>
                </div>
                <br>
                <mat-card class="matcard-padding2">
                  <div id='Container_paragraph'>
                    <h3 id="SectionHeaders">RAM</h3>
                    Free: <span> <b>{{(_selectedCustomer$ | async)?.companyDetails?.system?.ram?.free?.toString()|
                        slice:0:1 }} GB</b> </span> <br>
                    Installed: <span> <b>{{(_selectedCustomer$ |
                        async)?.companyDetails?.system?.ram?.installed?.toString()| slice:0:2}} GB</b> </span> <br>
                    Total: <b> {{((_selectedCustomer$ | async)?.companyDetails?.system?.ram?.free! + (_selectedCustomer$ |
                      async)?.companyDetails?.system?.ram?.installed!).toString() | slice:0:2 }} GB</b>
                    <section class="example-section" style="width: 95%; margin-top: 5px;">
                      <mat-progress-bar class="green-progress" [mode]="mode"
                        value="{{(_selectedCustomer$ | async)?.companyDetails?.system?.ram?.free! *100 /  
                        ((_selectedCustomer$ | async)?.companyDetails?.system?.ram?.free! + 
                        (_selectedCustomer$ | async)?.companyDetails?.system?.ram?.installed!) }}"
                        [bufferValue]="bufferValue">
                      </mat-progress-bar>
                      <div style="position: relative; padding: 10px; color: white; margin-top: -29px;">
                        Free: {{((_selectedCustomer$ | async)?.companyDetails?.system?.ram?.free! *100 /
                        ((_selectedCustomer$ | async)?.companyDetails?.system?.ram?.free! + (_selectedCustomer$ |
                        async)?.companyDetails?.system?.ram?.installed!)).toString() | slice: 0 : 2 }} %
                      </div>
                    </section>
                  </div>
                </mat-card>
                <div id='Container_paragraph' style="margin-top: 20px">
                  <h3 id="SectionHeaders">OPERATING SYSTEM</h3>
                  Boot: <b>{{(_selectedCustomer$ | async)?.companyDetails?.system?.os?.boot}}</b> <br>
                  Version: <b>{{(_selectedCustomer$ | async)?.companyDetails?.system?.os?.version}}</b> <br>
                  <br>
                </div>
              </div>
            </div>
            <!--End-->
          </mat-expansion-panel>
        </mat-accordion>
        <mat-accordion>
          <mat-expansion-panel [expanded]="isOpened3" (click)=expansionStatus3()>
            <mat-expansion-panel-header>
              <mat-panel-title>
                TrackNav
              </mat-panel-title>
            </mat-expansion-panel-header>
            <div class="Box_container">
              <div id="Content_container">
                <h2 id="Container_headers">TrackNav</h2>
                <div id='Container_paragraph'>
                  <h3 id="SectionHeaders">Inbound</h3>
                  <div class="flexBound">
                    <div>
                      <mat-card class="matcard-padding">
                        <h4 id="SectionHeaders">Https initin:</h4>
                        <p>
                          Avg: <b>{{(_selectedCustomer$ |
                            async)?.companyDetails?.tracknav?.communication?.inbound?.http_intin?.avg}}</b><br>
                          Max: <b> {{(_selectedCustomer$ |
                            async)?.companyDetails?.tracknav?.communication?.inbound?.http_intin?.max}}</b><br>
                          Min: <b> {{(_selectedCustomer$ |
                            async)?.companyDetails?.tracknav?.communication?.inbound?.http_intin?.min}}</b><br>
                        </p>
                      </mat-card>
                    </div>
                    <div>
                      <mat-card class="matcard-padding">
                        <h4 id="SectionHeaders">Intin:</h4>
                        Avg: <b>{{(_selectedCustomer$ |
                          async)?.companyDetails?.tracknav?.communication?.inbound?.intin?.avg}}</b> <br>
                        Max: <b>{{(_selectedCustomer$ |
                          async)?.companyDetails?.tracknav?.communication?.inbound?.intin?.max}}</b><br>
                        Min: <b>{{(_selectedCustomer$ |
                          async)?.companyDetails?.tracknav?.communication?.inbound?.intin?.min}}</b> <br>
                      </mat-card>
                    </div>
                    <div>
                      <mat-card class="matcard-padding">
                        <h4 id="SectionHeaders">sys_tcp_io:</h4>
                        Avg: <b>{{(_selectedCustomer$ |
                          async)?.companyDetails?.tracknav?.communication?.inbound?.sys_tcp_io?.avg}}</b> <br>
                        Max: <b>{{(_selectedCustomer$ |
                          async)?.companyDetails?.tracknav?.communication?.inbound?.sys_tcp_io?.max}}</b> <br>
                        Min: <b>{{(_selectedCustomer$ |
                          async)?.companyDetails?.tracknav?.communication?.inbound?.sys_tcp_io?.min}}</b> <br>
                      </mat-card>
                    </div>
                  </div>
                </div>
                <br>
                <br>
                <div id='Container_paragraph'>
                  <h3 id="SectionHeaders">Outbound</h3>
                  <div class="flexBound">
                    <div>
                      <mat-card class="matcard-padding">
                        <h4 id="SectionHeaders">Https initout:</h4>
                        <p>
                          Avg: <b>{{(_selectedCustomer$ |
                            async)?.companyDetails?.tracknav?.communication?.outbound?.http_intout?.avg}}</b><br>
                          Max: <b> {{(_selectedCustomer$ |
                            async)?.companyDetails?.tracknav?.communication?.outbound?.http_intout?.max}}</b><br>
                          Min: <b> {{(_selectedCustomer$ |
                            async)?.companyDetails?.tracknav?.communication?.outbound?.http_intout?.min}}</b><br>
                        </p>
                      </mat-card>
                    </div>
                    <div>
                      <mat-card class="matcard-padding">
                        <h4 id="SectionHeaders">Intout:</h4>
                        Avg: <b>{{(_selectedCustomer$ |
                          async)?.companyDetails?.tracknav?.communication?.outbound?.intout?.avg}}</b> <br>
                        Max: <b>{{(_selectedCustomer$ |
                          async)?.companyDetails?.tracknav?.communication?.outbound?.intout?.max}}</b><br>
                        Min: <b>{{(_selectedCustomer$ |
                          async)?.companyDetails?.tracknav?.communication?.outbound?.intout?.min}}</b> <br>
                      </mat-card>
                    </div>
                    <div>
                      <mat-card class="matcard-padding">
                        <h4 id="SectionHeaders">sys_tcp_io:</h4>
                        Avg: <b>{{(_selectedCustomer$ |
                          async)?.companyDetails?.tracknav?.communication?.outbound?.sys_tcp_io?.avg}}</b> <br>
                        Max: <b>{{(_selectedCustomer$ |
                          async)?.companyDetails?.tracknav?.communication?.outbound?.sys_tcp_io?.max}}</b> <br>
                        Min: <b>{{(_selectedCustomer$ |
                          async)?.companyDetails?.tracknav?.communication?.outbound?.sys_tcp_io?.min}}</b> <br>
                      </mat-card>
                    </div>
                  </div>
                  <br>
                  <mat-card class="matcard-padding2">
                    <div>
                      <h3 id="Container_headers">Programs</h3>
                      <div style="margin-top: -10px;" [ngStyle]= "{'color': (_selectedCustomer$ | async)?.companyDetails?.tracknav?.programs?.txtcolor}">
                        Active: <b>{{(_selectedCustomer$ | async)?.companyDetails?.tracknav?.programs?.active}}</b> <br>
                        Running: <b>{{(_selectedCustomer$ | async)?.companyDetails?.tracknav?.programs?.running}}</b>
                        <br>
                      </div>
                    </div>
                  </mat-card>
                  <mat-card class="matcard-padding2">
                    <div>
                      <h3 id="Container_headers">Service</h3>
                      <p id='Container_paragraph'>
                        Last restart: <b> {{(_selectedCustomer$ |
                          async)?.companyDetails?.tracknav?.service?.last_restart}} </b> <br>
                        Managed programs<b> {{(_selectedCustomer$ |
                          async)?.companyDetails?.tracknav?.service?.managed_programs_ok}} </b> <br>
                        Planned restart<b> {{(_selectedCustomer$ |
                          async)?.companyDetails?.tracknav?.service?.planned_restart}} </b> <br>
                        Running <b>{{(_selectedCustomer$ | async)?.companyDetails?.tracknav?.service?.running}} </b> <br>
                      </p>
                    </div>
                  </mat-card>
                  <mat-card class="matcard-padding2">
                    <div>
                      <h3 id="Container_headers">Tablets</h3>
                      <div id='Container_paragraph'>
                        Count: <b> {{(_selectedCustomer$ | async)?.companyDetails?.tracknav?.tablets?.count}} </b> <br>
                        Online:<b> {{(_selectedCustomer$ | async)?.companyDetails?.tracknav?.tablets?.online}} </b> <br>
                        <section class="example-section" style="width: 95%; margin-top: 5px;">
                          <mat-progress-bar class="green-progress" [mode]="mode"
                            value="{{(_selectedCustomer$ | async)?.companyDetails?.tracknav?.tablets?.online! * 100 / 
                            (_selectedCustomer$ | async)?.companyDetails?.tracknav?.tablets?.count!}}"
                            [bufferValue]="bufferValue">
                          </mat-progress-bar>
                          <div style="position: relative; padding: 10px; color: white; margin-top: -29px;">
                            Online: {{((_selectedCustomer$ | async)?.companyDetails?.tracknav?.tablets?.online! * 100 /
                            (_selectedCustomer$ | async)?.companyDetails?.tracknav?.tablets?.count!).toString() |
                            slice:0:2}} %
                          </div>
                        </section>
                      </div>
                    </div>
                  </mat-card>
                  <mat-card class="matcard-padding2">
                    <div>
                      <h3 id="Container_headers">Tachodl</h3>
                      <p id='Container_paragraph'>

                        Cards: <b> <span [ngStyle]= "{'background-color': (_selectedCustomer$ | async)?.companyDetails?.tracknav?.tachodl?.program?.bgndcolor}">{{(_selectedCustomer$ |
                            async)?.companyDetails?.tracknav?.tachodl?.program?.cards}}</span> </b> <br>
                        Version: <b> <span>{{(_selectedCustomer$ |
                            async)?.companyDetails?.tracknav?.tachodl?.program?.version}}</span> </b> <br>
                        Drivers: <b> <span>{{(_selectedCustomer$ |
                            async)?.companyDetails?.tracknav?.tachodl?.drivers?.state}}</span> </b> <br>
                        Vehicles:<b> <span> {{(_selectedCustomer$ |
                            async)?.companyDetails?.tracknav?.tachodl?.vehicles?.state}}</span> </b> <br>
                      </p>
                    </div>
                  </mat-card>
                  <mat-card class="matcard-padding2">
                    <div>
                      <h3 id="Container_headers">Vehicles</h3>
                      <div id='Container_paragraph'>
                        Count:<b> {{(_selectedCustomer$ | async)?.companyDetails?.tracknav?.vehicles?.count}} </b> <br>
                        Active: <b> {{(_selectedCustomer$ | async)?.companyDetails?.tracknav?.vehicles?.active}} </b>
                        <br>
                        Online: <b> {{(_selectedCustomer$ | async)?.companyDetails?.tracknav?.vehicles?.online}} </b>
                        <br>
                        <section class="example-section" style="width: 95%; margin-top: 5px;">
                          <mat-progress-bar class="green-progress" [mode]="mode"
                            value="{{(_selectedCustomer$ | async)?.companyDetails?.tracknav?.vehicles?.active! * 100 / 
                              (_selectedCustomer$ | async)?.companyDetails?.tracknav?.vehicles?.count!}}"
                            [bufferValue]="bufferValue">
                          </mat-progress-bar>
                          <div style="position: relative; padding: 10px; color: white; margin-top: -29px;">
                            Active: {{((_selectedCustomer$ | async)?.companyDetails?.tracknav?.vehicles?.active! * 100 /
                            (_selectedCustomer$ | async)?.companyDetails?.tracknav?.vehicles?.count!).toString() |
                            slice:0:2}} %
                          </div>
                        </section>
                        <section class="example-section" style="width: 95%; margin-top: 5px;">
                          <mat-progress-bar class="green-progress" [mode]="mode"
                            value="{{(_selectedCustomer$ | async)?.companyDetails?.tracknav?.vehicles?.online! * 100 / 
                              (_selectedCustomer$ | async)?.companyDetails?.tracknav?.vehicles?.count!}}"
                            [bufferValue]="bufferValue">
                          </mat-progress-bar>
                          <div style="position: relative; padding: 10px; color: white; margin-top: -29px;">
                            Online: {{((_selectedCustomer$ | async)?.companyDetails?.tracknav?.vehicles?.online! * 100 /
                            (_selectedCustomer$ | async)?.companyDetails?.tracknav?.vehicles?.count!).toString() |
                            slice:0:2}} %
                          </div>
                        </section>
                      </div>
                    </div>
                  </mat-card>
                </div>
              </div>
            </div>
            <!--end-->
          </mat-expansion-panel>
        </mat-accordion>
        <mat-accordion>
          <mat-expansion-panel [expanded]="isOpened4" (click)=expansionStatus4() >
            <mat-expansion-panel-header>
              <mat-panel-title>
                Iframe
              </mat-panel-title>
            </mat-expansion-panel-header>
            <div class="Box_container">
              <div id="Content_container">
                <h2 id="Container_headers">Iframe Placeholder</h2>
                <p id='Container_paragraph'>
                  <iframe src="" title="description">Hello World</iframe>
                </p>
              </div>
            </div>
          </mat-expansion-panel>
        </mat-accordion>
      </ng-container>
    </mat-card-content>
  </mat-card>
  <div class="example-card2" style="width: 40%;">
    <ng-container *ngIf="_isLoadingCustomerEventData$ | async">
      <mat-progress-bar mode="indeterminate" style="height: 5px!important; margin-top: 16.5px;"></mat-progress-bar>
    </ng-container>
    <ng-container *ngIf="!(_isLoadingCustomerEventData$ | async)">
      <div style="margin-left: 10px;">
        <h1 style="margin-top: 13px; font-family: 'Roboto', sans-serif; font-weight: 500;">Dogodki za podjetje </h1>
        <app-table 
            [displayFilter]='switchFalse' 
            [displayPaginator]='switchFalse' 
            [displayedColumns]='dataCompanyColums'
            [dataSource]='customerDetailTableData'>
        </app-table>
      </div>     
    </ng-container> 
  </div>
</div>